---
# lit.rhel.xrdp
# XRDP server role for RHEL 9.
# IMPORTANT: This role NEVER enables EPEL or any repository sources.
# Use lit.rhel.repos (or your internal mirror policy) to enable required repos.

xrdp_enabled: true
xrdp_fail_if_unavailable: true

xrdp_listen_address: "0.0.0.0"
xrdp_listen_port: 3389

xrdp_firewalld_manage: true
xrdp_firewalld_zone: "admin"
xrdp_firewalld_state: "enabled"

xrdp_selinux_manage: true
xrdp_selinux_type: "ms-wbt-server"
xrdp_selinux_proto: "tcp"

xrdp_desktop: "auto"      # auto | gnome | xfce | custom
xrdp_install_desktop: false
xrdp_custom_startwm: ""

xrdp_tls_enable: true
xrdp_tls_cert_path: "/etc/xrdp/cert.pem"
xrdp_tls_key_path: "/etc/xrdp/key.pem"
xrdp_tls_generate_self_signed: true
xrdp_tls_subject: "/CN={{ inventory_hostname }}"
xrdp_tls_days: 825

xrdp_packages:
  - xrdp
  - xorgxrdp
  - policycoreutils-python-utils

xrdp_optional_packages:
  - xrdp-selinux
  - pulseaudio-module-xrdp

xrdp_no_log: false
